//[Netradyne Driveri SDK](index.md)



# Netradyne Driveri SDK  
 [common] 

##  ADD DRIVERI SDK IN APP  


###  Android  


Add Driveri SDK's maven repository in project level build.gradle.

    allprojects {
        repositories {
            maven {
              url("https://github.com/netradyne/driveri-sdk/raw/repository/")
            }
        }
    }

Add Driveri SDK dependency in app level build.gradle.

    implementation 'com.netradyne:driverisdk:1.0.+'

###  iOS  


Driveri SDK is available as a pod. Add the following pod to podfile.

    pod 'driverisdk'

##  INITIALIZE DRIVERI SDK  
<ol><li>Create an instance of [DriveriSDK](com.netradyne.driverisdk/-driveri-s-d-k/index.md) class.</li><li>Authenticate using username and password. Skip this step if already authenticated. Calling other APIs without authentication will return [NOT_AUTHENTICATED](com.netradyne.driverisdk/-n-o-t_-a-u-t-h-e-n-t-i-c-a-t-e-d.md) error.</li><li>Get user to fetch latest user settings from ND Cloud. This must be called on every app launch. Calling other APIs skipping this step will return [USER_NOT_INITIALIZED](com.netradyne.driverisdk/-u-s-e-r_-n-o-t_-i-n-i-t-i-a-l-i-z-e-d.md) error.</li></ol>

###  Kotlin  
    val driveriSDK = DriveriSDK()
    val authAPI = driveriSDK.getAuthAPI()
    val userAPI = driveriSDK.getUserAPI()
    if(!authAPI.isAuthenticated()){
        authAPI.authenticateUser("username", "passowrd"){error ->
            if(error == null){
                userAPI.getUser{userError, user ->  
                    //handle error or user data
                }
            }
        }
    }else{
        userAPI.getUser{userError, user ->
            //handle error or user data
        } 
    }

###  Java  
    DriveriSDK driveriSDK = new DriveriSDK();
    NDAuthAPI authAPI = driveriSDK.getAuthAPI();
    NDUserAPI userAPI = driveriSDK.getUserAPI();
    if(!authAPI.isAuthenticated()){
        authAPI.authenticateUser("username", "password", ndError -> {
            if(ndError == null){
                userAPI.getUser((ndError1, ndUser) -> {
                    //handle error or user data
                    return null;
                });
            }
            return null;
        });
    }else{
        userAPI.getUser((ndError, ndUser) -> {
            //handle error or user data
            return null;
        });
    }

###  Swift  
    import DriveriSDK

    let driveriSDK = DriveriSDK()
    let authAPI = driveriSDK.getAuthAPI()
    let userAPI = driveriSDK.getUserAPI()
    if !authAPI.isAuthenticated(){
    authAPI.authenticateUser(username: "username", password: "password") { (error) in
        if error == nil{
            userAPI.getUser { (error1, user) in
                //handle error or user data
            }
            }
        }
    }else{
    userAPI.getUser { (error, user) in
            //handle error or user data
    }
    }

###  Objective-C  
    @import DriveriSDK;

    DSDKDriveriSDK* driveriSDK = [[DSDKDriveriSDK alloc]init];
    DSDKNDAuthAPI* authAPI = [driveriSDK getAuthAPI];
    DSDKNDUserAPI* userAPI = [driveriSDK getUserAPI];
    if(![authAPI isAuthenticated]){
        [authAPI authenticateUserUsername:@"username" password:@"password" callback:^(DSDKNDError * _Nullable error) {
        if(error == NULL){
            [userAPI getUserCallback:^(DSDKNDError * _Nullable error1, DSDKNDUser * _Nullable user ) {
            //handle error or user data
            }];
        }
        }];
    }else{
        [userAPI getUserCallback:^(DSDKNDError * _Nullable error, DSDKNDUser * _Nullable user ) {
        //handle error or user data
        }];
    }

##  APIS  


Driveri SDK exposes following API interfaces:

<ol><li>[NDAuthAPI](com.netradyne.driverisdk.auth/-n-d-auth-a-p-i/index.md) - Core interface for managing user's authentication with ND Cloud.</li><li>[NDUserAPI](com.netradyne.driverisdk.user/-n-d-user-a-p-i/index.md) - Core interface for managing users in NDCloud.</li><li>[NDEventsAPI](com.netradyne.driverisdk.events/-n-d-events-a-p-i/index.md) - Core interface for managing events generated by Driveri.</li><li>[NDGreenzoneAPI](com.netradyne.driverisdk.greenzone/-n-d-greenzone-a-p-i/index.md) - Core interface for fetching greenzone stats.</li><li>[NDVideoAPI](com.netradyne.driverisdk.video/-n-d-video-a-p-i/index.md) - Core interface for requesting and playing videos captured by Driveri.</li><li>[NDCoachingAPI](com.netradyne.driverisdk.coaching/-n-d-coaching-a-p-i/index.md) - Core interface for managing driver's weekly review coaching sessions.</li><li>[NDEventAccessAPI](com.netradyne.driverisdk.eventAccess/-n-d-event-access-a-p-i/index.md) - Core interface for managing event access requests.</li></ol>

These interfaces cannot be instantiated from Client App and instances must be obtained from respective getter methods in [DriveriSDK](com.netradyne.driverisdk/-driveri-s-d-k/index.md) class.

<ol><li>[getAuthAPI](com.netradyne.driverisdk/-driveri-s-d-k/get-auth-a-p-i.md)</li><li>[getUserAPI](com.netradyne.driverisdk/-driveri-s-d-k/get-user-a-p-i.md)</li><li>[getEventsAPI](com.netradyne.driverisdk/-driveri-s-d-k/get-events-a-p-i.md)</li><li>[getGreenzoneAPI](com.netradyne.driverisdk/-driveri-s-d-k/get-greenzone-a-p-i.md)</li><li>[getVideoAPI](com.netradyne.driverisdk/-driveri-s-d-k/get-video-a-p-i.md)</li><li>[getCoachingAPI](com.netradyne.driverisdk/-driveri-s-d-k/get-coaching-a-p-i.md)</li><li>[getEventAccessAPI](com.netradyne.driverisdk/-driveri-s-d-k/get-event-access-a-p-i.md)</li></ol>

All the above getter methods except [getAuthAPI](com.netradyne.driverisdk/-driveri-s-d-k/get-auth-a-p-i.md) and [getUserAPI](com.netradyne.driverisdk/-driveri-s-d-k/get-user-a-p-i.md) return an instance of [Either<L, R>](com.netradyne.driverisdk/-either/index.md) where L is an instance of [NDError](com.netradyne.driverisdk/-n-d-error/index.md) and R is an instance of the respective API class.



Below are some code snippets showing how to obtain an instance of NDEventsAPI from DriveriSDK.



###  Kotlin  
    val api: Either<NDError, NDEventsAPI> = driveriSDK.getEventsAPI()
    if(api.isLeft){
        val error = api.getLeft()
    }else{
        val eventsAPI = api.getRight()
    }

###  Java  
    Either<NDError, NDEventsAPI> api = driveriSDK.getEventsAPI();
    if (api.isLeft()) {
        NDError error = api.getLeft();
    } else {
        NDEventsAPI eventsAPI = api.getRight();
    }

###  Swift  
    let api : Either<NDError, NDEventsAPI> = driveriSDK.getEventsAPI()
    if api.isLeft{
       let error = api.getLeft()
    }else{
       let eventsAPI = api.getRight()
    }

###  Objective-C  
    DSDKEither<DSDKNDError*, DSDKNDEventsAPI*> *api = [driveriSDK getEventsAPI];
    if(api.isLeft){
      DSDKNDError* error = [api getLeft];
    }else{
      DSDKNDEventsAPI* eventsAPI = [api getRight];
    }

##  iOS only  


All operations on DriveriSDK class and API classes must be done on main thread only. Driveri SDK is created using Kotlin Multiplatform and Kotlin/Native compiler has very strict concurrency rules which prevents objects created in one thread from being accessed on a different thread.  Dirveri SDK uses Kotlin Coroutines for performing API calls which do not block the thread they are running on.



##  React Native integration  


Integrating Driveri SDK with a RN project is similar to how any third-party native SDK would be integrated. Create native module(s) on Android and iOS which export SDK APIs to JS.



The data classes returned from SDK APIs implement toJSONString() method which returns a json representation of the data. The json string can be converted to WritableMap/WritableArray on Android and NSDictionary/NSArray on iOS which can be sent over JS bridge.

   


## Packages  
  
|  Name|  Summary| 
|---|---|
| <a name="com.netradyne.driverisdk////PointingToDeclaration/"></a>[com.netradyne.driverisdk](com.netradyne.driverisdk/index.md) | 
| <a name="com.netradyne.driverisdk.api////PointingToDeclaration/"></a>[com.netradyne.driverisdk.api](com.netradyne.driverisdk.api/index.md) | 
| <a name="com.netradyne.driverisdk.appBeacon////PointingToDeclaration/"></a>[com.netradyne.driverisdk.appBeacon](com.netradyne.driverisdk.appBeacon/index.md) | 
| <a name="com.netradyne.driverisdk.auth////PointingToDeclaration/"></a>[com.netradyne.driverisdk.auth](com.netradyne.driverisdk.auth/index.md) | 
| <a name="com.netradyne.driverisdk.coaching////PointingToDeclaration/"></a>[com.netradyne.driverisdk.coaching](com.netradyne.driverisdk.coaching/index.md) | 
| <a name="com.netradyne.driverisdk.eventAccess////PointingToDeclaration/"></a>[com.netradyne.driverisdk.eventAccess](com.netradyne.driverisdk.eventAccess/index.md) | 
| <a name="com.netradyne.driverisdk.eventFeedback////PointingToDeclaration/"></a>[com.netradyne.driverisdk.eventFeedback](com.netradyne.driverisdk.eventFeedback/index.md) | 
| <a name="com.netradyne.driverisdk.events////PointingToDeclaration/"></a>[com.netradyne.driverisdk.events](com.netradyne.driverisdk.events/index.md) | 
| <a name="com.netradyne.driverisdk.feedback////PointingToDeclaration/"></a>[com.netradyne.driverisdk.feedback](com.netradyne.driverisdk.feedback/index.md) | 
| <a name="com.netradyne.driverisdk.greenzone////PointingToDeclaration/"></a>[com.netradyne.driverisdk.greenzone](com.netradyne.driverisdk.greenzone/index.md) | 
| <a name="com.netradyne.driverisdk.notifications////PointingToDeclaration/"></a>[com.netradyne.driverisdk.notifications](com.netradyne.driverisdk.notifications/index.md) | 
| <a name="com.netradyne.driverisdk.user////PointingToDeclaration/"></a>[com.netradyne.driverisdk.user](com.netradyne.driverisdk.user/index.md) | 
| <a name="com.netradyne.driverisdk.video////PointingToDeclaration/"></a>[com.netradyne.driverisdk.video](com.netradyne.driverisdk.video/index.md) | 

